<div class="my-8">
  <!-- row -->
  <div class="row">
    <div class="col-md-4">
      <div class="me-lg-12 mb-6 mb-md-0">
        <div class="d-grid">
          <h4>Comment this product</h4>
          <p class="mb-0">
            Share your thoughts with other customers.
          </p>
          <a
            class="btn btn-outline-gray-400 mt-4 text-muted"
            (click)="writeReview()"
            >Write the Comment</a
          >
        </div>
      </div>
    </div>

    <!-- col -->
    <div class="col-md-8">
      <div *ngIf="authenticated && commentFormVisibility" class="mb-10">
        <!-- rating -->
        <h3 class="mb-5">Create Review</h3>

        <form [formGroup]="commentForm" (ngSubmit)="onSubmit()">
          <!-- form control -->
          <div class="border-bottom py-4 mb-4">
            <h5>Add your score</h5>
            <input
              type="number"
              class="form-control"
              placeholder="Your product score"
              formControlName="score"
            />
          </div>
          <div class="py-4 mb-4">
            <!-- heading -->
            <h5>Add a written comment</h5>
            <textarea
              class="form-control"
              rows="3"
              placeholder="What did you like or dislike? What did you use this product for?"
              formControlName="text"
            ></textarea>
          </div>
          <!-- button -->
          <div class="d-flex justify-content-end">
            <button class="btn btn-secondary mx-2" (click)="commentFormVisibility=false">Cancel</button>
            <button type="submit" class="btn btn-primary">Submit Comment</button>
          </div>
        </form>
      </div>

      <div class="mb-10">
        <div
          class="d-flex justify-content-between align-items-center mb-8"
        >
          <div>
            <!-- heading -->
            <h4>Comments</h4>
          </div>
          <div>
            <select
              class="form-select"
              aria-label="Default select example"
            >
              <option selected="">Top Review</option>
              <option value="1">One</option>
              <option value="2">Two</option>
              <option value="3">Three</option>
            </select>
          </div>
        </div>
        <div *ngFor="let comment of comments" class="d-flex border-bottom pb-6 mb-6">
          <!-- img -->
          <!-- img --><img
            src="../assets/images/avatar/default-avatar.png"
            alt=""
            class="rounded-circle avatar-lg"
          />
          <div class="ms-5">
            <h6 class="mb-1"></h6>
            <!-- select option -->
            <!-- content -->
            <!-- <p class="small">
              <span class="text-muted">30 December 2022</span>
              <span class="text-primary ms-3 fw-bold"
                >Verified Purchase</span
              >
            </p> -->
            <!-- rating -->
            <div class="mb-2">
              <i class="bi bi-star-fill text-warning"></i>
              <i class="bi bi-star-fill text-warning"></i>
              <i class="bi bi-star-fill text-warning"></i>
              <i class="bi bi-star-fill text-warning"></i>
              <i class="bi bi-star-fill text-warning"></i>
              <span class="ms-3 text-dark fw-bold"
                >{{ comment.score }}/5</span
              >
            </div>
            <!-- text-->
            <p>{{ comment.text }}</p>
          </div>
        </div>
        <div *ngIf="comments.length > 0; else noComment">
          <a href="#" class="btn btn-outline-gray-400 text-muted"
            >Read More Comments</a
          >
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #noComment>
  <p>No comment found. Use "Write the Comment" button to leave one.</p>
</ng-template>
